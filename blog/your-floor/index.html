<!DOCTYPE html>
<html lang="en" dir="ltr"><head>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.91.2" />
<title>Your Floor Is the Most Dangerous Thing In Your House | Julia Silge</title>


<meta property="twitter:site" content="@juliasilge">
<meta property="twitter:creator" content="@juliasilge">







  
    
  
<meta name="description" content="Analyzing Injuries Caused by Consumer Products">


<meta property="og:site_name" content="Julia Silge">
<meta property="og:title" content="Your Floor Is the Most Dangerous Thing In Your House | Julia Silge">
<meta property="og:description" content="Analyzing Injuries Caused by Consumer Products" />
<meta property="og:type" content="page" />
<meta property="og:url" content="https://juliasilge.com/blog/your-floor/" />
<meta property="og:locale" content="en">




    
        <meta property="og:image" content="https://juliasilge.com/img/illustrated_blog_avatar.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://juliasilge.com/img/illustrated_blog_avatar.png" >
    
  <meta itemprop="name" content="Your Floor Is the Most Dangerous Thing In Your House">
<meta itemprop="description" content="I saw this analysis at Flowing Data about the most common consumer products involved in hospital ER visits and was delighted, interested, etc. Nathan&rsquo;s next related post is, um, also super interesting, if entirely horrifying. Apparently, I am not the only one who thought this data set was compelling, because this week Hadley Wickham took the NEISS data set that these beautiful analyses are based on and made an R package for them."><meta itemprop="datePublished" content="2016-02-17T00:00:00+00:00" />
<meta itemprop="dateModified" content="2016-02-17T00:00:00+00:00" />
<meta itemprop="wordCount" content="2480">
<meta itemprop="keywords" content="rstats," />
  
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="/img/icon.png" type="image/x-icon">
  <link rel="icon" href="/img/icon.png" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.34750661ca065ca7ddb87b2b28cab82abf493a21c1e3852e0755fba776b031b7.css" integrity="sha256-NHUGYcoGXKfduHsrKMq4Kr9JOiHB44UuB1X7p3awMbc=" media="screen">
  
  
  <script src="/panelset.min.078a92db9bd3228df502db3d9e0453c3cf3d910abe3f8deca0ad196c7071ad41.js" type="text/javascript"></script>
  
  
  <script src="/main.min.bb67dea4a2ee41aab688effd180f2d02662e47280f0021495f2c0ce24c461f65.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="https://juliasilge.com/" title="Home">
      <span class="f4 fw7">Julia Silge</span>
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="About me">About</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/blog/" title="Blog">Blog</a>
      
      
    </div>
  </nav>
</header>

<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 ph4-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Your Floor Is the Most Dangerous Thing In Your House</h1>
        
        <p class="f6 measure lh-copy mv1">By Julia Silge</p>
        <p class="f7 db mv0 ttu">February 17, 2016</p>

      

      </header>
      <section class="post-body pt5 pb4">
        <p>I saw 
<a href="http://flowingdata.com/2016/02/09/why-people-visit-the-emergency-room/" target="_blank" rel="noopener">this analysis at Flowing Data</a> about the most common consumer products involved in hospital ER visits and was delighted, interested, etc. Nathan&rsquo;s 
<a href="http://flowingdata.com/2016/02/16/million-to-one-shot-doc/" target="_blank" rel="noopener">next related post</a> is, um, also super interesting, if entirely horrifying. Apparently, I am not the only one who thought this data set was compelling, because this week Hadley Wickham took the 
<a href="http://www.cpsc.gov/en/Research--Statistics/NEISS-Injury-Data/" target="_blank" rel="noopener">NEISS data set</a> that these beautiful analyses are based on and made 
<a href="https://github.com/hadley/neiss" target="_blank" rel="noopener">an R package</a> for them.</p>




<h2 id="right-hand-pain-and-swelling-after-punching-a-wooden-door">RIGHT HAND PAIN AND SWELLING AFTER PUNCHING A WOODEN DOOR
  <a href="#right-hand-pain-and-swelling-after-punching-a-wooden-door"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Since the data set is wrapped up nicely in an R package, getting it is very easy. This is a pretty big data set, though; it includes the entire NEISS sample of injuries from 2009 to 2014. I did this blog post on an older laptop and it took my aging computer a bit to chug along and do some things. First, let&rsquo;s download the data.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">library(devtools)
install_github(&quot;hadley/neiss&quot;)
library(neiss)
</code></pre><p>Now, let&rsquo;s open the main data set and look at the column names.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">data(injuries)
names(injuries)
</code></pre><pre tabindex="0"><code>##  [1] &quot;case_num&quot;    &quot;trmt_date&quot;   &quot;psu&quot;         &quot;weight&quot;      &quot;stratum&quot;    
##  [6] &quot;age&quot;         &quot;sex&quot;         &quot;race&quot;        &quot;race_other&quot;  &quot;diag&quot;       
## [11] &quot;diag_other&quot;  &quot;body_part&quot;   &quot;disposition&quot; &quot;location&quot;    &quot;fmv&quot;        
## [16] &quot;prod1&quot;       &quot;prod2&quot;       &quot;narrative&quot;
</code></pre><p>Each row is a case, i.e. injury. The consumer product(s) implicated in the injury are in <code>prod1</code> and <code>prod2</code> as numbers, which can be looked up in another data set, <code>products</code>.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">data(products)
names(products)
</code></pre><pre tabindex="0"><code>## [1] &quot;code&quot;  &quot;title&quot;
</code></pre><p>What, for example, is the product associated with code 235?</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">products[products$code == 235, 'title']
</code></pre><pre tabindex="0"><code>## Source: local data frame [1 x 1]
## 
##                   title
##                   (chr)
## 1 electric waffle irons
</code></pre><p>Some of the other observations made for each injury include the age, sex, and race of the injured person, the diagnosis and body part injured, where the injury took place (at home, school, etc.), whether the fire department was involved, and a narrative describing what happened. The narratives are just, WOW.</p>




<h2 id="just-for-starters">Just For Starters
  <a href="#just-for-starters"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>So just as a very first glimpse, what consumer products cause the most injuries in this data set?</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">library(dplyr)
injuries &lt;- left_join(injuries, products, by = c(&quot;prod1&quot; = &quot;code&quot;)) %&gt;% 
        rename(product = title)
injuries$product &lt;- as.factor(injuries$product)
injuries %&gt;% group_by(product) %&gt;% summarise(total = sum(weight)) %&gt;% 
        top_n(10, total) %&gt;% arrange(desc(total))
</code></pre><pre tabindex="0"><code>## Source: local data frame [10 x 2]
## 
##                                     product   total
##                                      (fctr)   (dbl)
## 1                           stairs or steps 7245304
## 2              floors or flooring materials 6177421
## 3      beds or bedframes, other or not spec 3551331
## 4  basketball (activity, apparel or equip.) 3150653
## 5   bicycles and accessories (excl mountain 3139063
## 6    football (activity, apparel or equip.) 2670743
## 7          knives, not elsewhere classified 2015212
## 8            chairs, other or not specified 1875416
## 9             doors, other or not specified 1781299
## 10 ceilings and walls (part of completed st 1777905
</code></pre><p>If you live in a house without stairs, it looks like your floor is the most dangerous thing in your house. (Is it weird that floors and stairs are &ldquo;consumer products&rdquo; in this data set?) These results, as we would expect, agree with the more detailed plots at 
<a href="http://flowingdata.com/2016/02/09/why-people-visit-the-emergency-room/" target="_blank" rel="noopener">Flowing Data</a>.</p>




<h2 id="dont-leave-your-house-but-dont-stay-home">Don&rsquo;t Leave Your House! But Don&rsquo;t Stay Home!
  <a href="#dont-leave-your-house-but-dont-stay-home"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Let&rsquo;s look at where these injuries occur, first for the dataset as a whole.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">library(ggplot2)
injuries$location &lt;- as.factor(injuries$location)
whereinjury &lt;- injuries %&gt;% group_by(location) %&gt;% summarise(total = sum(weight))
ggplot(data = whereinjury, 
       aes(x = location, y = total)) +
        geom_bar(stat = &quot;identity&quot;, fill = &quot;aquamarine4&quot;, alpha = 0.8) + 
        theme(legend.position=&quot;none&quot;, axis.title.x = element_blank(),
              axis.text.x= element_text(angle=45, hjust = 1)) +
        ylab(&quot;Estimated number of injuries&quot;) +
        ggtitle(&quot;Location of Injuries&quot;)
</code></pre><p><img src="/figs/2016-02-19-Your-Floor/unnamed-chunk-7-1.png" alt="center"></p>
<p>Is this different for males and females? (I have left out the injuries where no sex is listed.)</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">injuries$sex &lt;- as.factor(injuries$sex)
whereinjury &lt;- injuries %&gt;% group_by(location, sex) %&gt;% summarise(total = sum(weight)) %&gt;% 
        arrange(desc(total))
ggplot(data = whereinjury[whereinjury$sex != &quot;None listed&quot;,], 
       aes(x = location, y = total, fill = sex)) +
        geom_bar(alpha = 0.8, stat = &quot;identity&quot;, position = &quot;dodge&quot;) + 
        scale_fill_manual(values = c(&quot;deeppink3&quot;, &quot;deepskyblue4&quot;)) + 
        theme(axis.title.x = element_blank(), legend.title=element_blank(),
              axis.text.x= element_text(angle=45, hjust = 1)) +
        ylab(&quot;Estimated number of injuries&quot;) +
        ggtitle(&quot;Location of Injuries&quot;)
</code></pre><p><img src="/figs/2016-02-19-Your-Floor/unnamed-chunk-8-1.png" alt="center"></p>
<p>The numbers are so low that you can&rsquo;t see them on the graph, but injuries at farms, industrial places, and mobile homes are all higher for males than females.</p>
<p>Does this change for people of different ages? This is going to get a little more complicated, because there are fewer 70-year-olds in America than 20-year-olds, but more women than men at those older ages. Who is more likely to be injured? And where?</p>




<h2 id="counting-injuries-counting-people">Counting Injuries, Counting People
  <a href="#counting-injuries-counting-people"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Let&rsquo;s start by looking at the number of injuries by age and by sex.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">sexageinjury &lt;- injuries %&gt;% 
        group_by(sex, age = as.numeric(cut(age, breaks = (seq(0,100, by = 1))))-1) %&gt;%
        summarise(total = sum(weight))
ggplot(data = sexageinjury[sexageinjury$sex != &quot;None listed&quot;,], 
       aes(x = age, y = total, color = sex)) +
        geom_line(size = 1.5, alpha = 0.9) +
        scale_color_manual(values = c(&quot;deeppink3&quot;, &quot;deepskyblue4&quot;)) + 
        theme(legend.title=element_blank(), legend.justification=c(1,1), legend.position=c(1,1)) +
        ylab(&quot;Estimated number of injuries&quot;) + xlab(&quot;Age&quot;) + 
        ggtitle(&quot;Total Injuries by Age and Sex&quot;)
</code></pre><p><img src="/figs/2016-02-19-Your-Floor/unnamed-chunk-9-1.png" alt="center"></p>
<p>I have parented three children through their toddler years and oh, this graph makes me cringe. We only ended up at the ER once and that was an incident involving a collision with a child&rsquo;s head and:</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">products[products$code == 1884,]
</code></pre><pre tabindex="0"><code>## Source: local data frame [1 x 2]
## 
##    code                                    title
##   (int)                                    (chr)
## 1  1884 ceilings and walls (part of completed st
</code></pre><p>None of my kids have yet entered their teen years and now that second peak can cause me to be filled with DATA-DRIVEN DREAD. Anyway, you can see there are more males visiting the ER for an injury from a consumer product until about age 50, but women live longer than men, so there are more women alive at those wise, advanced years. What we want to do is divide by how many people there are at each age and sex to find the per capita rate. Hadley included a data set that contains just that information in the <code>neiss</code> package. Let&rsquo;s load it.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">data(population)
head(population)
</code></pre><pre tabindex="0"><code>## Source: local data frame [6 x 4]
## 
##    year   age    sex       n
##   (int) (int)  (chr)   (int)
## 1  2000     0 female 1881822
## 2  2000     0   male 1974134
## 3  2000     1 female 1856084
## 4  2000     1   male 1942607
## 5  2000     2 female 1856028
## 6  2000     2   male 1944116
</code></pre><p>I am just looking at the whole NEISS dataset in aggregate, not dividing up by individual years, and this also could complicate matters. During the years 2009 to 2014, individuals obviously age, but does the age and sex distribution of the population of the United States change enough to make a big difference here?</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">population$sex &lt;- as.factor(population$sex)
ggplot(data = population[population$year&gt;=2009,], 
       aes(x = age, y = n, color = sex)) +
        facet_wrap(~year) + 
        geom_line(alpha = 0.9) +
        scale_color_manual(values = c(&quot;deeppink3&quot;, &quot;deepskyblue4&quot;)) + 
        theme(legend.title=element_blank(), legend.justification=c(0,0), legend.position=c(0,0)) +
        ylab(&quot;Number of people&quot;) + xlab(&quot;Age&quot;) + 
        ggtitle(&quot;U.S. Population by Age and Sex&quot;)
</code></pre><p><img src="/figs/2016-02-19-Your-Floor/unnamed-chunk-12-1.png" alt="center"></p>
<p>Those are close enough for my purposes that I am going to take a median and use that as the population distribution for the aggregated injury dataset.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">medianpop &lt;- population %&gt;% filter(year &gt;= 2009) %&gt;% group_by(age, sex) %&gt;% 
        summarise(n = median(n))
</code></pre><p>Now let&rsquo;s combine the population sex/age distribution with the total injuries by sex and age.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">totalinjuries &lt;- left_join(medianpop, sexageinjury, by = c(&quot;age&quot; = &quot;age&quot;))
totalinjuries &lt;- totalinjuries %&gt;% filter(sex.x == tolower(sex.y)) %&gt;% 
        select(age, sex = sex.x, population = n, injuries = total) 
</code></pre><p>What do we have at this point?</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">head(totalinjuries)
</code></pre><pre tabindex="0"><code>## Source: local data frame [6 x 4]
## Groups: age [3]
## 
##     age    sex population injuries
##   (dbl) (fctr)      (int)    (int)
## 1     0 female    1932910    25647
## 2     0   male    2018420    30293
## 3     1 female    1938870    73325
## 4     1   male    2023253    96475
## 5     2 female    1950168    29266
## 6     2   male    2042522    40807
</code></pre><p>Now let&rsquo;s divide the injuries by the population in each age/sex bin to get a rate. Let&rsquo;s multiply by 100,000 to get a number that is per 100,000 population. Then let&rsquo;s <code>melt</code> for some plotting.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">library(reshape2)
totalinjuries &lt;- totalinjuries %&gt;% mutate(rate = injuries/population*1e5) %&gt;% 
        melt(id = c(&quot;age&quot;, &quot;sex&quot;))
levels(totalinjuries$variable) &lt;- c(&quot;Population&quot;, &quot;Estimated Injuries&quot;, &quot;Injury Rate per 100,000 Population&quot;)
ggplot(data = totalinjuries, 
       aes(x = age, y = value, color = sex)) +
        facet_wrap(~variable, ncol = 1, scales = &quot;free_y&quot;) + 
        geom_line(size = 1.2, alpha = 0.9) +
        scale_color_manual(values = c(&quot;deeppink3&quot;, &quot;deepskyblue4&quot;)) + 
        theme(legend.title=element_blank(), legend.justification=c(1,1), legend.position=c(1,1)) +
        ylab(&quot;Number&quot;) + xlab(&quot;Age&quot;) + 
        ggtitle(&quot;Population and Injuries by Age and Sex&quot;)
</code></pre><p><img src="/figs/2016-02-19-Your-Floor/unnamed-chunk-16-1.png" alt="center"></p>
<p>We can see the rate of injuries per capita increasing at the highest ages, but the injuries are still higher for women than men. I&rsquo;ll be honest; this is not what I was expecting to see. Ahead of time, I thought that crossing point when injuries in women outnumber injuries in men was probably due to there being more older women than men. Let&rsquo;s look in detail at injuries caused by a few types of consumer products.</p>




<h2 id="toilet-cover-fell-on-toe">TOILET COVER FELL ON TOE
  <a href="#toilet-cover-fell-on-toe"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Hadley shared some plots on Twitter while he was working on this package.</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Toilet related injuries by age and sex <a href="https://t.co/2HlXfFnZf3">pic.twitter.com/2HlXfFnZf3</a></p>&mdash; Hadley Wickham (@hadleywickham) <a href="https://twitter.com/hadleywickham/status/699035765355913216">February 15, 2016</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>This toilet-related one, naturally, caught everyone&rsquo;s eye. Let&rsquo;s reproduce that plot and then divide by the population at each age bin to see how the distribution changes.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">toiletinjury &lt;- injuries[injuries$prod1 == 649,] %&gt;% 
        group_by(sex, age = as.numeric(cut(age, breaks = (seq(0,100, by = 1))))-1) %&gt;%
        summarise(total = sum(weight))
totalinjuries &lt;- left_join(medianpop, toiletinjury, by = c(&quot;age&quot; = &quot;age&quot;))
totalinjuries &lt;- totalinjuries %&gt;% filter(sex.x == tolower(sex.y)) %&gt;% 
        select(age, sex = sex.x, population = n, injuries = total) %&gt;%
        mutate(rate = injuries/population*1e5) %&gt;% 
        melt(id = c(&quot;age&quot;, &quot;sex&quot;), measure = c(&quot;injuries&quot;, &quot;rate&quot;))
levels(totalinjuries$variable) &lt;- c(&quot;Estimated Number of Injuries&quot;, &quot;Injury Rate per 100,000 Population&quot;)
ggplot(data = totalinjuries, 
       aes(x = age, y = value, color = sex)) +
        facet_wrap(~variable, ncol = 1, scales = &quot;free_y&quot;) + 
        geom_line(size = 1.2, alpha = 0.9) +
        scale_color_manual(values = c(&quot;deeppink3&quot;, &quot;deepskyblue4&quot;)) + 
        theme(legend.title=element_blank(), legend.justification=c(0,0.38), 
              legend.position=c(0,0.38)) +
        ylab(&quot;Number&quot;) + xlab(&quot;Age&quot;) + 
        ggtitle(&quot;Toilet-Related Injuries by Age and Sex&quot;)
</code></pre><p><img src="/figs/2016-02-19-Your-Floor/unnamed-chunk-17-1.png" alt="center"></p>
<p>The reason my plot doesn&rsquo;t extend to as high ages as Hadley&rsquo;s is that the population data doesn&rsquo;t extend to as high ages as the NEISS data. Also, the y-axes are different because Hadley must have been just using the number of cases (i.e. rows) in the data set at that point, but it actually contains a weight (<code>weight</code>) for each case that can be used to get a national estimate. (The NEISS is a sample of many hospitals, but not every single hospital in the United States; the weights are assigned so that we can use these data to get a national estimate.) More of substance, dividing by the population in each age/sex bin shows that the toilet-related injury rate increases significantly with age. The difference between older women and men is not due to there being more women in the older population; older women are more likely to suffer toilet-related injuries than older men. SAD. And also somewhat sensible, I suppose, if I stop to think about it. Everyone do some squats.</p>




<h2 id="tried-to-ski-jump-legs-went-apart-in-air">TRIED TO SKI JUMP, LEGS WENT APART IN AIR
  <a href="#tried-to-ski-jump-legs-went-apart-in-air"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Let&rsquo;s do one more. I live in a ski-centric city, so let&rsquo;s find all the skiing-related injuries.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">skiinjury &lt;- injuries[injuries$prod1 == 3283,] %&gt;% 
        group_by(sex, age = as.numeric(cut(age, breaks = (seq(0,100, by = 1))))-1) %&gt;%
        summarise(total = sum(weight))
totalinjuries &lt;- left_join(medianpop, skiinjury, by = c(&quot;age&quot; = &quot;age&quot;))
totalinjuries &lt;- totalinjuries %&gt;% filter(sex.x == tolower(sex.y)) %&gt;% 
        select(age, sex = sex.x, population = n, injuries = total) %&gt;%
        mutate(rate = injuries/population*1e5) %&gt;% 
        melt(id = c(&quot;age&quot;, &quot;sex&quot;), measure = c(&quot;injuries&quot;, &quot;rate&quot;))
levels(totalinjuries$variable) &lt;- c(&quot;Estimated Number of Injuries&quot;, &quot;Injury Rate per 100,000 Population&quot;)
ggplot(data = totalinjuries, 
       aes(x = age, y = value, color = sex)) +
        facet_wrap(~variable, ncol = 1, scales = &quot;free_y&quot;) + 
        geom_line(size = 1.2, alpha = 0.9) +
        scale_color_manual(values = c(&quot;deeppink3&quot;, &quot;deepskyblue4&quot;)) + 
        theme(legend.title=element_blank(), legend.justification=c(1,1), legend.position=c(1,1)) +
        ylab(&quot;Number&quot;) + xlab(&quot;Age&quot;) + 
        ggtitle(&quot;Skiing-Related Injuries by Age and Sex&quot;)
</code></pre><p><img src="/figs/2016-02-19-Your-Floor/unnamed-chunk-18-1.png" alt="center"></p>
<p>The distribution of these injuries is quite different from the total injuries or the toilet-related injuries. There is not much difference between the number of injuries and the per capita rate of injuries; the people getting injured skiing (probably, just the people skiing) have ages in the range where the distribution of ages is fairly flat so the two plots look mostly the same. There are not many babies and toddlers out there skiing and getting hurt, and the adults seem to be practicing safe skiing behavior. The big peak is just past age 10. That is&hellip; exactly the age of my oldest who now likes to ski black runs.</p>
<iframe src="https://giphy.com/embed/iQA2hMPX88icM" width="480" height="270" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="http://giphy.com/gifs/nervous-worried-stressed-iQA2hMPX88icM">via GIPHY</a></p>
<p>
<a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3989528/" target="_blank" rel="noopener">Everyone wear helmets.</a></p>




<h2 id="back-to-home-and-school-and-public-property">Back to Home and School and Public Property
  <a href="#back-to-home-and-school-and-public-property"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Now that we have a handle on this business with the population at different sex/age bins, let&rsquo;s go back to the distribution of injury location. Let&rsquo;s look at the top four locations that are not &ldquo;unknown&rdquo;.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">whereinjury &lt;- injuries %&gt;% group_by(location, sex, 
                                     age = as.numeric(cut(age, 
                                                          breaks = (seq(0,100, by = 1))))-1) %&gt;%
        summarise(total = sum(weight))
whereinjury$location = factor(whereinjury$location,levels(whereinjury$location)[c(2,7,6,5,1,3,4,8,9)])
plotlocation &lt;- c(&quot;Home&quot;, &quot;Other Public Property&quot;, &quot;School&quot;, 
                  &quot;Sports Or Recreation Place&quot;)
ggplot(data = whereinjury[whereinjury$sex != &quot;None listed&quot; &amp; 
                                  whereinjury$location %in% plotlocation,], 
       aes(x = age, y = total, color = sex)) +
        facet_wrap(~location, ncol = 1, scales = &quot;free_y&quot;) + 
        geom_line(size = 1.2, alpha = 0.9) +
        scale_color_manual(values = c(&quot;deeppink3&quot;, &quot;deepskyblue4&quot;)) + 
        theme(legend.title=element_blank(), legend.justification=c(1,1), legend.position=c(1,1)) +
        ylab(&quot;Estimated Number of injuries&quot;) + xlab(&quot;Age&quot;) + 
        ggtitle(&quot;Injuries by Location, Age, and Sex&quot;)
</code></pre><p><img src="/figs/2016-02-19-Your-Floor/unnamed-chunk-19-1.png" alt="center"></p>
<p>And now let&rsquo;s plot the rates per 100,000 population in each sex/age bin for these locations.</p>
<pre tabindex="0"><code class="language-{r}" data-lang="{r}">whereinjury &lt;- left_join(medianpop, whereinjury, by = c(&quot;age&quot; = &quot;age&quot;))
whereinjury &lt;- whereinjury %&gt;% filter(sex.x == tolower(sex.y)) %&gt;% 
        select(location, age, sex = sex.x, population = n, injuries = total) %&gt;%
        mutate(rate = injuries/population*1e5)
ggplot(data = whereinjury[whereinjury$sex != &quot;None listed&quot; &amp; 
                                  whereinjury$location %in% plotlocation,], 
       aes(x = age, y = rate, color = sex)) +
        facet_wrap(~location, ncol = 1, scales = &quot;free_y&quot;) + 
        geom_line(size = 1.2, alpha = 0.9) +
        scale_color_manual(values = c(&quot;deeppink3&quot;, &quot;deepskyblue4&quot;)) + 
        theme(legend.title=element_blank(), legend.justification=c(1,1), legend.position=c(1,1)) +
        ylab(&quot;Number of injuries per 100,000 population&quot;) + xlab(&quot;Age&quot;) + 
        ggtitle(&quot;Injury Rate by Location, Age, and Sex&quot;)
</code></pre><p><img src="/figs/2016-02-19-Your-Floor/unnamed-chunk-20-1.png" alt="center"></p>
<p>Teenagers are getting injured at school and at sports/recreation locations, while babies, toddlers, and the elderly are getting injured at home and in public. Here again we see that elderly women are injured at a higher rate than elderly men.</p>




<h2 id="the-end">The End
  <a href="#the-end"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>I copy-and-pasted code a little bit in this post (FOR SHAME); I maybe should have defined some functions. There is SO MUCH MORE that can be explored with this data set. It is enormous. I didn&rsquo;t touch most of the consumer products, or any of the date information, or any of the race information, or any of the information on type of injury or body part injured&hellip; You get the idea; go have a ball. Just be forewarned it might make you want to wrap everyone you love in bubblewrap. The R Markdown file used to make this blog post is available 
<a href="https://github.com/juliasilge/juliasilge.github.io/blob/master/_R/2016-02-19-Your-Floor.Rmd" target="_blank" rel="noopener">here</a>. I am very happy to hear feedback or questions!</p>

        
        <details closed class="f6 fw7 input-reset">
  <dl class="f6 lh-copy">
    <dt class="fw7">Posted on:</dt>
    <dd class="fw5 ml0">February 17, 2016</dd>
  </dl>
  <dl class="f6 lh-copy">
    <dt class="fw7">Length:</dt>
    <dd class="fw5 ml0">12 minute read, 2480 words</dd>
  </dl>
  
  
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Tags:</dt>
    <dd class="fw5 ml0"> <a href="https://juliasilge.com/tags/rstats">rstats</a> </dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">See Also:</dt>
    
    <dd class="fw5 ml0"><a href="/blog/educational-attainment/">Educational attainment in #TidyTuesday UK towns</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/polling-places/">Changes in #TidyTuesday US polling places</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/doctor-who-bayes/">Empirical Bayes for #TidyTuesday Doctor Who episodes</a></dd>
    
  </dl>
</details>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="https://juliasilge.com/blog/my-baby-boomer-name/">&larr; My Baby Boomer Name Might Have Been &#34;Debbie&#34;</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="https://juliasilge.com/blog/tall-drink-of-water/">A Tall Drink of Water &rarr;</a>
  
</div>

      </footer>
    </article>
    
      
<div class="post-comments pa0 pa4-l mt4">
  
  <script src="https://utteranc.es/client.js"
          repo="juliasilge/juliasilge.com"
          issue-term="title"
          theme="github-light"
          label="comments :speech_balloon:"
          crossorigin="anonymous"
          async
          type="text/javascript">
  </script>
  
</div>

    
  </section>
</main>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2024 Julia Silge
      <span class="middot-divider"></span>
      Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/license/" title="License">License</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>
